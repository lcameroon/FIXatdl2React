(this["webpackJsonpfixatdl-app"]=this["webpackJsonpfixatdl-app"]||[]).push([[0],{163:function(t,e,a){t.exports=a(335)},313:function(t,e){},315:function(t,e){},335:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(6),o=a.n(i),l=(a(168),a(26)),s=a(341),u=a(345),c=a(57),y=a(28),p=a(66),m=a(344),d=a(8),j=a(108),v=a(56),f=a(340),g=a(342),b=a(339),S=a(337),E=a(343),T=a(338),x=a(346),_=function(t){var e=t.params,a="Percentage_t"===(null===e||void 0===e?void 0:e.type),n="Float_t"===(null===e||void 0===e?void 0:e.type),i=a?1:void 0,o=a?100:void 0,l=1;return a&&((null===e||void 0===e?void 0:e.minValue)&&(i=Number(null===e||void 0===e?void 0:e.minValue.replace(".",""))),(null===e||void 0===e?void 0:e.maxValue)&&(o=Number(null===e||void 0===e?void 0:e.maxValue.replace(".","")))),n&&"2"===(null===e||void 0===e?void 0:e.precision)&&(l=.01),r.a.createElement(x.a,Object.assign({},t,{min:i,max:o,step:l,parser:a?function(t){return t.replace("%","")}:function(t){return t},formatter:function(t){return a?"".concat(t,"%"):"".concat(t)}}))},h={CheckBoxList_t:function(){return r.a.createElement("div",null)},CheckBox_t:function(){return r.a.createElement("div",null)},Clock_t:function(t){return r.a.createElement(T.a,Object.assign({},t,{format:"DD/MM/YYYY HH:mm:ss",showTime:!0}))},DropDownList_t:function(){return r.a.createElement("div",null)},EditableDropDownList_t:function(){return r.a.createElement("div",null)},DoubleSpinner_t:function(t){return r.a.createElement(_,t)},HiddenField_t:function(){return r.a.createElement("div",null)},Label_t:function(){return r.a.createElement("div",null)},MultiSelectList_t:function(){return r.a.createElement("div",null)},RadioButtonList_t:function(){return r.a.createElement("div",null)},RadioButton_t:function(){return r.a.createElement("div",null)},SingleSelectList_t:function(){return r.a.createElement("div",null)},SingleSpinner_t:_,Slider_t:function(){return r.a.createElement("div",null)},TextField_t:function(){return r.a.createElement("div",null)}},I=r.a.forwardRef((function(t,e){var a=h[t.control.type];return r.a.createElement(a,{id:t.id,value:t.value,onChange:t.onChange,field:t.field,control:t.control,params:t.params,listItems:t.listItems})})),O=function(t){var e=t.atdlJson,a=void 0===e?"":e,n={};try{n=a&&JSON.parse(a)}catch(i){n={error:"Error!!!"}}return n.error?r.a.createElement("p",null,n.error):n&&r.a.createElement(C,{atdl:n})},C=function(t){var e=t.atdl,a=f.a.useForm(),i=Object(l.a)(a,1)[0],o=Object(n.useState)(0),s=Object(l.a)(o,2),u=s[0],c=s[1],y=g.a.Option,d=e.Strategies.Strategy;d=Object(v.isArray)(d)?d:[d];var j=R(d),T=Object(n.useCallback)((function(t){c(t),i.setFieldsValue({fixMsgType:j[t].fixMsgType,providerID:j[t].providerID,uiRep:j[t].uiRep,version:j[t].version,wireValue:j[t].wireValue,panels:j[t].panels}),console.log("initialValues",j)}),[i,j]);return Object(n.useEffect)((function(){T(u)}),[e,T,u]),r.a.createElement(b.a,{style:{borderColor:"#d9d9d9"},bordered:!0,hoverable:!0,type:"inner",title:"Order Widget",extra:r.a.createElement(E.a,null)},r.a.createElement(f.a.Item,{label:"Strategy"},r.a.createElement(g.a,{placeholder:"Select a strategy",defaultValue:Number(u),onChange:T},d.map((function(t,e){var a=t._attributes;return r.a.createElement(y,{key:e,value:e},a.name)})))),r.a.createElement(f.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{initialValues:j[u],form:i,name:"control-hooks",onFinish:function(t){var e=t||i.getFieldsValue(),a=A(e);console.log("Received values of form:",a)}}),r.a.createElement(f.a.Item,{name:"fixMsgType",hidden:!0},r.a.createElement(m.a,null)),r.a.createElement(f.a.Item,{name:"providerID",hidden:!0},r.a.createElement(m.a,null)),r.a.createElement(f.a.Item,{name:"uiRep",hidden:!0},r.a.createElement(m.a,null)),r.a.createElement(f.a.Item,{name:"version",hidden:!0},r.a.createElement(m.a,null)),r.a.createElement(f.a.Item,{name:"wireValue",hidden:!0},r.a.createElement(m.a,null)),r.a.createElement(f.a.List,{name:"panels"},(function(t){return r.a.createElement(n.Fragment,null,t.map((function(t){return r.a.createElement(n.Fragment,{key:t.key},r.a.createElement(S.a,null),r.a.createElement(f.a.List,{name:[t.name,"controls"]},(function(e){return r.a.createElement(P,{fields:e,initialValues:j,currentPanel:t.key,currentStrategy:u})})))})))})),r.a.createElement(f.a.Item,{wrapperCol:{span:16,offset:8},style:{marginBottom:0,paddingBottom:0}},r.a.createElement(p.a,{type:"primary",htmlType:"submit"},"Submit"))))},P=function(t){var e=t.fields,a=t.initialValues,i=t.currentStrategy,o=t.currentPanel;return r.a.createElement(n.Fragment,null,e.map((function(t,e){var n=a[i].panels[o].controls[e],l=n._attributes,s=n._params,u=n._listItems;return r.a.createElement(f.a.Item,Object.assign({},t,{name:[t.name,l.parameterRef],label:l.label,rules:[{required:!0,message:"".concat(l.parameterRef," is required")}]}),r.a.createElement(I,{field:t,control:l,params:s,listItems:u}))})))},R=function(t){var e=[];return t.forEach((function(t){var a=t._attributes,n=t.Parameter,r=t.StrategyLayout.StrategyPanel,i=r;r.StrategyPanel&&(i=[r.StrategyPanel]),i=Object(v.isArray)(i)?i:[i],e.push(Object(j.a)(Object(j.a)({},a),{},{panels:i.map((function(t){return{controls:t.Control.map((function(t){var e,a=t._attributes,r=t.ListItem,i=void 0===r?[]:r,o=w(a.parameterRef,n),l=i.map((function(t){return t._attributes})),s="Percentage_t"===(null===o||void 0===o?void 0:o.type)?1:void 0;return e={},Object(d.a)(e,a.parameterRef,s),Object(d.a)(e,"_attributes",a),Object(d.a)(e,"_params",o),Object(d.a)(e,"_listItems",l),e}))}}))}))})),e},w=function(t,e){var a=Object(v.isArray)(e)?e:[e],n=Object(v.find)(a,["_attributes.name",t]);return(null===n||void 0===n?void 0:n._attributes)||{}},A=function(t){var e=Object(v.flattenDeep)(t.panels.map((function(t){return t.controls.map((function(t){return t})).flat()})));return{strategy:{fixMsgType:t.fixMsgType,providerID:t.providerID,uiRep:t.uiRep,version:t.version,wireValue:t.wireValue},controls:e}},k=a(36),V=a(51),D=a(154),L=a.n(D),F=function(){function t(){Object(k.a)(this,t)}return Object(V.a)(t,null,[{key:"toAtdl",value:function(t){return e=JSON.parse(t),a=Y("Atdl"),B(e,a,J);var e,a}},{key:"atdlToJson",value:function(t){return JSON.stringify((e=t,a=Y("Atdl"),B(e,a,N)),null,2);var e,a}},{key:"toJson",value:function(t){return t=t.replace(/(xsi:|lay:|val:)/g,""),L.a.xml2json(t,{compact:!0,spaces:2})}}]),t}();function M(t,e){throw Error("Invalid value ".concat(JSON.stringify(e)," for type ").concat(JSON.stringify(t)))}function J(t){if(void 0===t.jsonToJS){var e={};t.props.forEach((function(t){return e[t.json]={key:t.js,typ:t.typ}})),t.jsonToJS=e}return t.jsonToJS}function N(t){if(void 0===t.jsToJSON){var e={};t.props.forEach((function(t){return e[t.js]={key:t.json,typ:t.typ}})),t.jsToJSON=e}return t.jsToJSON}function B(t,e,a){if("any"===e)return t;if(null===e)return null===t?t:M(e,t);if(!1===e)return M(e,t);for(;"object"===typeof e&&void 0!==e.ref;)e=H[e.ref];return Array.isArray(e)?function(t,e){return-1!==t.indexOf(e)?e:M(t,e)}(e,t):"object"===typeof e?e.hasOwnProperty("unionMembers")?function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];try{return B(e,i,a)}catch(o){}}return M(t,e)}(e.unionMembers,t):e.hasOwnProperty("arrayItems")?function(t,e){return Array.isArray(e)?e.map((function(e){return B(e,t,a)})):M("array",e)}(e.arrayItems,t):e.hasOwnProperty("props")?function(t,e,n){if(null===n||"object"!==typeof n||Array.isArray(n))return M("object",n);var r={};return Object.getOwnPropertyNames(t).forEach((function(e){var i=t[e],o=Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;r[i.key]=B(o,i.typ,a)})),Object.getOwnPropertyNames(n).forEach((function(i){Object.prototype.hasOwnProperty.call(t,i)||(r[i]=B(n[i],e,a))})),r}(a(e),e.additional,t):M(e,t):e===Date&&"number"!==typeof t?function(t){if(null===t)return null;var e=new Date(t);return isNaN(e.valueOf())?M("Date",t):e}(t):function(t,e){return typeof t===typeof e?e:M(t,e)}(e,t)}function X(t){return{arrayItems:t}}function W(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return{unionMembers:e}}function U(t,e){return{props:t,additional:e}}function Y(t){return{ref:t}}var H={Atdl:U([{json:"Strategies",js:"Strategies",typ:W(void 0,Y("Strategies"))}],!1),Strategies:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StrategiesAttributes"))},{json:"Strategy",js:"Strategy",typ:W(void 0,X(Y("Strategy")))}],!1),Strategy:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StrategyAttributes"))},{json:"Regions",js:"Regions",typ:W(void 0,Y("Regions"))},{json:"Parameter",js:"Parameter",typ:W(void 0,W(X(Y("ParameterElement")),Y("PurpleParameter")))},{json:"StrategyLayout",js:"StrategyLayout",typ:W(void 0,Y("StrategyLayout"))},{json:"StrategyEdit",js:"StrategyEdit",typ:W(void 0,Y("StrategyEdit"))}],!1),ParameterElement:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("PurpleAttributes"))},{json:"EnumPair",js:"EnumPair",typ:W(void 0,X(Y("EnumPair")))}],!1),EnumPair:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("EnumPairAttributes"))}],!1),EnumPairAttributes:U([{json:"wireValue",js:"wireValue",typ:W(void 0,"")},{json:"enumID",js:"enumID",typ:W(void 0,"")}],!1),PurpleAttributes:U([{json:"type",js:"type",typ:W(void 0,"")},{json:"name",js:"name",typ:W(void 0,"")},{json:"fixTag",js:"fixTag",typ:W(void 0,"")},{json:"use",js:"use",typ:W(void 0,Y("Use"))},{json:"mutableOnCxlRpl",js:"mutableOnCxlRpl",typ:W(void 0,"")},{json:"revertOnCxlRpl",js:"revertOnCxlRpl",typ:W(void 0,"")},{json:"precision",js:"precision",typ:W(void 0,"")}],!1),PurpleParameter:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("FluffyAttributes"))}],!1),FluffyAttributes:U([{json:"fixTag",js:"fixTag",typ:W(void 0,"")},{json:"name",js:"name",typ:W(void 0,"")},{json:"use",js:"use",typ:W(void 0,Y("Use"))},{json:"type",js:"type",typ:W(void 0,"")}],!1),Regions:U([{json:"Region",js:"Region",typ:W(void 0,X(Y("Region")))}],!1),Region:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("RegionAttributes"))}],!1),RegionAttributes:U([{json:"name",js:"name",typ:W(void 0,"")},{json:"inclusion",js:"inclusion",typ:W(void 0,"")}],!1),StrategyEdit:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StrategyEditAttributes"))},{json:"Edit",js:"Edit",typ:W(void 0,Y("StrategyEditEdit"))}],!1),StrategyEditEdit:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StickyAttributes"))},{json:"Edit",js:"Edit",typ:W(void 0,X(Y("EditElement")))}],!1),EditElement:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("TentacledAttributes"))}],!1),TentacledAttributes:U([{json:"field",js:"field",typ:W(void 0,"")},{json:"operator",js:"operator",typ:W(void 0,"")},{json:"field2",js:"field2",typ:W(void 0,"")}],!1),StickyAttributes:U([{json:"logicOperator",js:"logicOperator",typ:W(void 0,"")}],!1),StrategyEditAttributes:U([{json:"errorMessage",js:"errorMessage",typ:W(void 0,"")}],!1),StrategyLayout:U([{json:"StrategyPanel",js:"StrategyPanel",typ:W(void 0,Y("StrategyLayoutStrategyPanel"))}],!1),StrategyLayoutStrategyPanel:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StrategyPanelAttributes"))},{json:"StrategyPanel",js:"StrategyPanel",typ:W(void 0,Y("StrategyPanelStrategyPanel"))}],!1),StrategyPanelStrategyPanel:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("StrategyPanelAttributes"))},{json:"Control",js:"Control",typ:W(void 0,X(Y("Control")))}],!1),Control:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("ControlAttributes"))},{json:"ListItem",js:"ListItem",typ:W(void 0,X(Y("ListItem")))}],!1),ListItem:U([{json:"_attributes",js:"_attributes",typ:W(void 0,Y("ListItemAttributes"))}],!1),ListItemAttributes:U([{json:"enumID",js:"enumID",typ:W(void 0,"")},{json:"uiRep",js:"uiRep",typ:W(void 0,"")}],!1),ControlAttributes:U([{json:"type",js:"type",typ:W(void 0,"")},{json:"ID",js:"ID",typ:W(void 0,"")},{json:"parameterRef",js:"parameterRef",typ:W(void 0,"")},{json:"tooltip",js:"tooltip",typ:W(void 0,"")},{json:"label",js:"label",typ:W(void 0,"")},{json:"initValue",js:"initValue",typ:W(void 0,"")},{json:"orientation",js:"orientation",typ:W(void 0,"")},{json:"innerIncrement",js:"innerIncrement",typ:W(void 0,"")},{json:"outerIncrement",js:"outerIncrement",typ:W(void 0,"")},{json:"increment",js:"increment",typ:W(void 0,"")},{json:"initPolicy",js:"initPolicy",typ:W(void 0,"")},{json:"initFixField",js:"initFixField",typ:W(void 0,"")}],!1),StrategyPanelAttributes:U([{json:"orientation",js:"orientation",typ:W(void 0,"")},{json:"border",js:"border",typ:W(void 0,"")},{json:"collapsed",js:"collapsed",typ:W(void 0,"")},{json:"collapsible",js:"collapsible",typ:W(void 0,"")},{json:"title",js:"title",typ:W(void 0,"")}],!1),StrategyAttributes:U([{json:"name",js:"name",typ:W(void 0,"")},{json:"uiRep",js:"uiRep",typ:W(void 0,"")},{json:"wireValue",js:"wireValue",typ:W(void 0,"")},{json:"providerID",js:"providerID",typ:W(void 0,"")},{json:"version",js:"version",typ:W(void 0,"")},{json:"fixMsgType",js:"fixMsgType",typ:W(void 0,"")}],!1),StrategiesAttributes:U([{json:"xmlns:lay",js:"xmlns:lay",typ:W(void 0,"")},{json:"xmlns:val",js:"xmlns:val",typ:W(void 0,"")},{json:"xmlns:flow",js:"xmlns:flow",typ:W(void 0,"")},{json:"xmlns:xsi",js:"xmlns:xsi",typ:W(void 0,"")},{json:"strategyIdentifierTag",js:"strategyIdentifierTag",typ:W(void 0,"")},{json:"versionIdentifierTag",js:"versionIdentifierTag",typ:W(void 0,"")},{json:"changeStrategyOnCxlRpl",js:"changeStrategyOnCxlRpl",typ:W(void 0,"")},{json:"xmlns",js:"xmlns",typ:W(void 0,"")},{json:"schemaLocation",js:"schemaLocation",typ:W(void 0,"")}],!1),Use:["optional","required"]},q='<Strategies xmlns:lay="http://www.fixprotocol.org/FIXatdl-1-1/Layout">\n<Strategy name="Tazer 2" uiRep="Strategy" wireValue="4000" fixMsgType="A">\n    <Parameter name="EffectiveTime" xsi:type="UTCTimestamp_t" fixTag="168"/>\n    <Parameter name="VolTarget" xsi:type="Percentage_t" fixTag="7641" minValue="0.01" maxValue="0.75"/>\n    <lay:StrategyLayout>\n        <lay:StrategyPanel>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n        </lay:StrategyPanel>\n    </lay:StrategyLayout>\n</Strategy>\n<Strategy name="Tazer" uiRep="Strategy" wireValue="3000" fixMsgType="D">\n    <Parameter name="EffectiveTime" xsi:type="UTCTimestamp_t" fixTag="168"/>\n    <Parameter name="VolTarget" xsi:type="Percentage_t" fixTag="7641" minValue="0.01" maxValue="0.75"/>\n    <lay:StrategyLayout>\n        <lay:StrategyPanel>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:SingleSpinner_t" ID="VolSpinner" label="Target (1-75%)" parameterRef="VolTarget"/>\n        </lay:StrategyPanel>\n        <lay:StrategyPanel>\n            <lay:Control xsi:type="lay:Clock_t" ID="StartTimeClock" label="Start Time" parameterRef="EffectiveTime"/>\n            <lay:Control xsi:type="lay:SingleSpinner_t" ID="VolSpinner" label="Target (1-75%)" parameterRef="VolTarget"/>\n        </lay:StrategyPanel>\n    </lay:StrategyLayout>\n</Strategy>\n</Strategies>',z=function(t){var e=t.onSubmit,a=Object(n.useState)(""),i=Object(l.a)(a,2),o=i[0],s=i[1];return r.a.createElement(c.a,{style:{marginTop:24},gutter:12},r.a.createElement(y.a,{span:8},r.a.createElement(p.a,{onClick:function(){s("8=FIX.4.2|9=51|35=0|34=703|49=ABC|52=20100130-10:53:40.830|56=XYZ|10=249|"),e()},block:!0},"Validate Output")),r.a.createElement(y.a,{span:16},r.a.createElement(m.a,{value:o,readOnly:!0,placeholder:"FIX Message"})))},Z=function(t){t.value;var e=t.onChange,a=m.a.TextArea;return r.a.createElement(n.Fragment,null,r.a.createElement("strong",null,"FIXatdl XML")," ",r.a.createElement("br",null),r.a.createElement(a,{defaultValue:q,style:{height:"80vh",marginBottom:16},onChange:e}))},$=function(){var t=Object(n.useState)(""),e=Object(l.a)(t,2),a=e[0],i=e[1],o=Object(n.useState)(""),m=Object(l.a)(o,2),d=m[0],j=m[1],v=function(t){var e="";try{e=F.toJson(t)}catch(a){s.a.error("Error parsing FIXatdl XML")}i(e)};return r.a.createElement(u.a,null,r.a.createElement(u.a.Header,null,r.a.createElement("h3",{style:{color:"#FFF"}},"FIXatdl 2 React Widget")),r.a.createElement(u.a.Content,{style:{height:"calc(100vh - 64px)",padding:"24px 50px",overflow:"auto"}},r.a.createElement(c.a,{gutter:24,style:{maxWidth:1200,margin:"0 auto",width:"100%"}},r.a.createElement(y.a,{span:14},r.a.createElement(Z,{onChange:function(t){j(t.target.value)}})),r.a.createElement(y.a,{span:10},r.a.createElement(p.a,{onClick:function(){v(""),v(d||q)},type:"primary",size:"large",block:!0,style:{marginBottom:16,marginTop:22}},"Build Widget"),r.a.createElement(O,{atdlJson:a}),r.a.createElement(z,{onSubmit:function(){}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[163,1,2]]]);
//# sourceMappingURL=main.d6d10200.chunk.js.map